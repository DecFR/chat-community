@import "tailwindcss";

@theme {
  /* 暗色主题颜色 */
  --color-discord-dark: #202225;
  --color-discord-darker: #2f3136;
  --color-discord-darkest: #292b2f;
  --color-discord-gray: #36393f;
  --color-discord-light-gray: #b9bbbe;
  --color-discord-blue: #5865f2;
  --color-discord-green: #3ba55d;
  --color-discord-red: #ed4245;
  --color-discord-hover: #40444b;
  --color-discord-border: #40444b;
  
  /* 亮色主题颜色 */
  --color-light-bg: #ffffff;
  --color-light-bg-secondary: #f2f3f5;
  --color-light-bg-tertiary: #e3e5e8;
  --color-light-text: #2e3338;
  --color-light-text-secondary: #4e5058;
  --color-light-border: #e3e5e8;
  --color-light-hover: #e3e5e8;
}

@layer base {
  /* 暗色主题（默认） */
  body {
    @apply bg-discord-dark text-discord-light-gray antialiased;
  }

  /* --- 亮色主题 --- */
  body.light-theme {
    --bg-primary: #ffffff;
    --bg-secondary: #f2f3f5;
    --bg-tertiary: #e3e5e8;
    --bg-hover: #e3e5e8;
    --bg-active: #d7d9dc;
    --text-primary: #060607;
    --text-secondary: #4e5058;
    --text-muted: #72767d;
    --border-color: #d7d9dc;
    --input-bg: #e3e5e8;

    background-color: var(--bg-primary);
    color: var(--text-primary);
  }

  /* 通用背景覆盖 */
  body.light-theme .bg-discord-dark,
  body.light-theme .bg-discord-gray {
    background-color: var(--bg-primary) !important;
  }
  body.light-theme .bg-discord-darker {
    background-color: var(--bg-secondary) !important;
  }
  body.light-theme .bg-discord-darkest {
    background-color: var(--bg-tertiary) !important;
  }

  /* 悬停和活动状态 */
  body.light-theme .hover\:bg-discord-hover:hover,
  body.light-theme .hover\:bg-discord-darker\/30:hover {
    background-color: var(--bg-hover) !important;
  }

  /* 通用文本颜色覆盖 */
  body.light-theme .text-white,
  body.light-theme .text-light {
    color: var(--text-primary) !important;
  }
  body.light-theme .text-discord-light-gray {
    color: var(--text-secondary) !important;
  }
  body.light-theme .text-gray-300,
  body.light-theme .text-gray-400,
  body.light-theme .text-gray-500 {
    color: var(--text-muted) !important;
  }
  body.light-theme .placeholder-gray-400::placeholder,
  body.light-theme .placeholder-gray-500::placeholder {
    color: var(--text-muted) !important;
  }

  /* 边框颜色覆盖 */
  body.light-theme .border-discord-darkest,
  body.light-theme .border-discord-border,
  body.light-theme .border-gray-700,
  body.light-theme .border-gray-800 {
    border-color: var(--border-color) !important;
  }

  /* 特定组件样式 */
  body.light-theme .card {
    background-color: var(--bg-primary) !important;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  }
  body.light-theme .input {
    background-color: var(--input-bg) !important;
    border-color: transparent !important;
    color: var(--text-primary) !important;
  }
  body.light-theme .input:focus {
    --tw-ring-color: var(--color-discord-blue);
  }

  /* 服务器列表按钮 */
  body.light-theme .w-18 .bg-discord-gray {
    background-color: var(--bg-secondary) !important;
  }
  body.light-theme .w-18 .bg-discord-gray.text-white {
    color: var(--text-primary) !important;
  }
  body.light-theme .w-18 .bg-discord-gray.text-discord-light-gray {
    color: var(--text-secondary) !important;
  }

  /* 滚动条 */
  body.light-theme .scrollbar-thin::-webkit-scrollbar-track {
    background: var(--bg-secondary);
  }
  body.light-theme .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #b9bbbe;
  }
  body.light-theme .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: #a0a3a7;
  }

  * {
    @apply border-discord-border;
  }

  /* 全局沉浸式滚动条 */
  * {
    scrollbar-width: thin;
    scrollbar-color: #4f545c transparent;
  }

  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background: #4f545c;
    border-radius: 4px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background: #5f656c;
  }
}

@layer components {
/* Simple fade-in animation for toasts */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(-4px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in { animation: fade-in 150ms ease-out; }

  .btn {
    @apply px-4 py-2 rounded-md font-medium transition-colors duration-200;
  }

  .btn-primary {
    @apply bg-discord-blue hover:bg-blue-600 text-white;
  }

  .btn-secondary {
    @apply bg-discord-gray hover:bg-gray-600 text-white;
  }

  .btn-danger {
    @apply bg-discord-red hover:bg-red-600 text-white;
  }

  .input {
    @apply w-full px-4 py-2 bg-discord-darker border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-discord-blue text-white placeholder-gray-400;
  }

  .card {
    @apply bg-discord-darker rounded-lg p-4 shadow-lg;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #4f545c #2f3136;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: #2f3136;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #4f545c;
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: #5f656c;
  }
}
